<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Host Control</title>
    <style>
    </style>
    <script>
        var server = (pass, method) => {
            document.getElementById("response").ariaBusy= true
            document.getElementById("response").innerHTML=""
            var myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");
            var raw = JSON.stringify({"pass": pass});
            var requestOptions = {
                method: method,
                headers: myHeaders,
                body: 'https://ud1gib9u1h.execute-api.us-west-2.amazonaws.com/',
                redirect: 'follow'
            };
            fetch(url, requestOptions)
            .then(response => response.text())
            .then(result => {
                document.getElementById("response").innerHTML=result
                document.getElementById("response").ariaBusy= false
            })
            .catch(error => console.log('error', error));
        }

        var checkStatus = (pass)=>{
            server(pass, "GET")
        }
        var start = (pass)=>{
            server(pass, "POST")
        }
        var stop = (pass)=>{
            server(pass, "DELETE")
        }
    </script>
</head>
<body>
<main class="container">
    <div role="document">
        <article>
            <form>
                <label for="pass">Pass:
                    <input type="password" id="pass" name="pass">
                </label>
                <button type="button" onclick="checkStatus(document.getElementById('pass').value)">Check Server status</button>
                <button type="button" onclick="start(document.getElementById('pass').value)">Start server</button>
                <button type="button" onclick="stop(document.getElementById('pass').value)">Stop server</button>    
            </form>
            <footer>
                <pre>
                    <code id="response" class="code"></code>
                </pre>
            </footer>
        </article>
    </div>
    
</main>
</body>
</html>